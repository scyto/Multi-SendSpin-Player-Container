name: Multi-Room Audio (Dev)
version: "sha-0e83da6"
slug: multiroom-audio-dev
description: >-
  Development builds - may be unstable. Sendspin-powered multi-room audio
  controller for testing new features.
url: https://github.com/chrisuthe/squeezelite-docker
image: ghcr.io/chrisuthe/multiroom-audio-hassio-dev
startup: services
arch:
  - amd64
  - aarch64

# Hardware access
audio: true
host_network: true
udev: true
uart: true
usb: true
# Explicit device mapping for audio access
devices:
  - "/dev/snd:/dev/snd"
  - "/proc/asound:/host/asound:ro"

# Permissions for audio processing
privileged:
  - SYS_NICE
apparmor: true

# Storage mapping
map:
  - config:rw
  - share:rw

# Web interface via ingress only (no direct port exposure)
ingress: true
ingress_port: 8096
panel_icon: mdi:speaker-multiple
panel_title: Multi-Room Audio (Dev)

# User-configurable options
options:
  log_level: info
  relay_serial_port: null
  relay_devices: []
  mock_hardware: false
  enable_advanced_formats: false

schema:
  log_level: list(debug|info|warning|error)
  relay_serial_port: device(subsystem=tty)?
  relay_devices:
    - str?
  mock_hardware: bool?
  enable_advanced_formats: bool?

# Watchdog - auto-restart if health check fails
watchdog: http://[HOST]:[PORT:8096]/api/health

# Build stage - experimental hides unless enabled in settings
stage: experimental
init: false
