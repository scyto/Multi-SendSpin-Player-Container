# PulseAudio Daemon Configuration for Multi-Room Audio Container
# Optimized for headless audio server operation

# Run as system daemon (no per-user sessions)
daemonize = no
allow-module-loading = yes
allow-exit = no

# Audio quality settings
# These can be overridden via PA_SAMPLE_RATE and PA_SAMPLE_FORMAT env vars
# module-alsa-card will negotiate down if hardware doesn't support
default-sample-format = float32le
default-sample-rate = 48000
default-sample-channels = 2
default-channel-map = front-left,front-right

# Buffer settings - balance between latency and stability
default-fragments = 4
default-fragment-size-msec = 25

# Resampling - use speex for good quality
resample-method = speex-float-3
avoid-resampling = yes

# Disable features not needed in headless mode
flat-volumes = no
enable-shm = no
shm-size-bytes = 0

# Container-friendly settings
use-pid-file = no
lock-memory = no

# Logging
log-target = stderr
log-level = notice

# CPU scheduling (requires SYS_NICE capability)
high-priority = yes
nice-level = -11
realtime-scheduling = yes
realtime-priority = 5
